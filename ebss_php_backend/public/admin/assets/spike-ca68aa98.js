import{b as t,k as y,l as f,_ as g,a as n,o as r,h as u,w as s,j as m}from"./index-dd67864f.js";const b={name:"list",data:function(){return{table:"shop_spike",goods:[],saveFormData:{},searchObj:{},columns:[{title:"秒杀名称",key:"name",is_edit:!0},{title:"活动描述",key:"desc",is_edit:!0},{title:"活动图片",key:"cover_img"},{title:"时间段",key:"time_type",customRender:e=>t("span",null,[this.constant.spikeTimeType(e.text)]),sorter:!0},{title:"开始时间",key:"start_at",customRender:e=>{if(e.record.time_type==1)return t("span",null,[y(e.text)]);if(e.record.time_type==2)return t("span",null,[f(e.text)])},sorter:!0},{title:"结束时间",key:"end_at",customRender:e=>{if(e.record.time_type==1)return t("span",null,[y(e.text)]);if(e.record.time_type==2)return t("span",null,[f(e.text)])},sorter:!0}]}},computed:{},components:{},created(){this.post("/admin/crud/list",{table:"shop_goods",is_spike:1,is_listing:1}).then(({code:e,paginate:a})=>{e===1&&(this.goods=a.data)})},methods:{}};function U(e,a,T,C,j,q){const i=n("a-input"),l=n("a-form-item"),p=n("Select"),d=n("DatePicker"),v=n("TimePicker"),k=n("CheckBox"),D=n("Upload"),_=n("a-form"),F=n("Crud");return r(),u(F,null,{save:s(()=>[t(_,{ref:"save_form",model:e.saveFormData,"label-col":{span:6},"wrapper-col":{span:18}},{default:s(()=>[t(l,{label:"秒杀名称",name:"name",rules:[{required:!0,message:""}]},{default:s(()=>[t(i,{value:e.saveFormData.name,"onUpdate:value":a[0]||(a[0]=o=>e.saveFormData.name=o)},null,8,["value"])]),_:1}),t(l,{label:"活动描述",name:"desc"},{default:s(()=>[t(i,{value:e.saveFormData.desc,"onUpdate:value":a[1]||(a[1]=o=>e.saveFormData.desc=o)},null,8,["value"])]),_:1}),t(l,{label:"时间段",name:"time_type",rules:[{required:!0,message:""}]},{default:s(()=>[t(p,{placeholder:"时间段",value:e.saveFormData.time_type,"onUpdate:value":a[2]||(a[2]=o=>e.saveFormData.time_type=o),constant:e.constant.spikeTimeType()},null,8,["value","constant"])]),_:1}),t(l,{label:"开始时间",name:"start_at",rules:[{required:!0,message:""}]},{default:s(()=>[e.saveFormData.time_type==1?(r(),u(d,{key:0,value:e.saveFormData.start_at,"onUpdate:value":a[3]||(a[3]=o=>e.saveFormData.start_at=o)},null,8,["value"])):m("",!0),e.saveFormData.time_type==2?(r(),u(v,{key:1,value:e.saveFormData.start_at,"onUpdate:value":a[4]||(a[4]=o=>e.saveFormData.start_at=o)},null,8,["value"])):m("",!0)]),_:1}),t(l,{label:"结束时间",name:"end_at",rules:[{required:!0,message:""}]},{default:s(()=>[e.saveFormData.time_type==1?(r(),u(d,{key:0,value:e.saveFormData.end_at,"onUpdate:value":a[5]||(a[5]=o=>e.saveFormData.end_at=o)},null,8,["value"])):m("",!0),e.saveFormData.time_type==2?(r(),u(v,{key:1,value:e.saveFormData.end_at,"onUpdate:value":a[6]||(a[6]=o=>e.saveFormData.end_at=o)},null,8,["value"])):m("",!0)]),_:1}),t(l,{label:"秒杀商品",name:"goods_ids",rules:[{required:!0,message:""}]},{default:s(()=>[t(k,{onlyvalue:"",value:e.saveFormData.goods_ids,"onUpdate:value":a[7]||(a[7]=o=>e.saveFormData.goods_ids=o),options:e.goods,value_key:"goods_id",name_key:"title"},null,8,["value","options"])]),_:1}),t(l,{label:"活动图片",name:"cover_img",rules:[{required:!0,message:""}]},{default:s(()=>[t(D,{maxCount:1,value:e.saveFormData.cover_img,"onUpdate:value":a[8]||(a[8]=o=>e.saveFormData.cover_img=o)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),search:s(()=>[t(_,{layout:"inline"},{default:s(()=>[t(l,{label:"秒杀名称",name:"name"},{default:s(()=>[t(i,{value:e.searchObj.name,"onUpdate:value":a[9]||(a[9]=o=>e.searchObj.name=o)},null,8,["value"])]),_:1}),t(l,{label:"时间段",name:"time_type"},{default:s(()=>[t(p,{placeholder:"时间段",value:e.searchObj.time_type,"onUpdate:value":a[10]||(a[10]=o=>e.searchObj.time_type=o),constant:e.constant.spikeTimeType()},null,8,["value","constant"])]),_:1})]),_:1})]),_:1})}const c=g(b,[["render",U]]);export{c as default};
