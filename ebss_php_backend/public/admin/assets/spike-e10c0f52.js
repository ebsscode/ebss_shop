import{d as t,_ as D,a as n,o as r,f as u,w as l,i as m}from"./index-c354119d.js";const F={name:"list",data:function(){return{table:"spike",goods:[],saveFormData:{},searchObj:{},columns:[{title:"秒杀名称",key:"name",is_edit:!0},{title:"活动描述",key:"desc",is_edit:!0},{title:"活动图片",key:"cover_img"},{title:"时间段",key:"time_type",customRender:e=>t("span",null,[this.constant.spike_time_type[e.text]])},{title:"开始时间",key:"start_at",customRender:e=>{if(e.record.time_type==1)return t("span",null,[this.util.formatTime(e.text)]);if(e.record.time_type==2)return t("span",null,[this.util.formatHmi(e.text)])}},{title:"结束时间",key:"end_at",customRender:e=>{if(e.record.time_type==1)return t("span",null,[this.util.formatTime(e.text)]);if(e.record.time_type==2)return t("span",null,[this.util.formatHmi(e.text)])}}]}},computed:{},components:{},created(){this.get("/admin/crud/list",{table:"goods",is_spike:1,is_listing:1}).then(({code:e,paginate:a})=>{e===1&&(this.goods=a.data)})},methods:{}};function g(e,a,b,U,C,q){const i=n("a-input"),s=n("a-form-item"),d=n("Select"),p=n("DatePicker"),v=n("TimePicker"),f=n("CheckBox"),y=n("Upload"),_=n("a-form"),k=n("Crud");return r(),u(k,null,{save:l(()=>[t(_,{ref:"save_form",model:e.saveFormData,"label-col":{span:6},"wrapper-col":{span:18}},{default:l(()=>[t(s,{label:"秒杀名称",name:"name",rules:[{required:!0,message:""}]},{default:l(()=>[t(i,{value:e.saveFormData.name,"onUpdate:value":a[0]||(a[0]=o=>e.saveFormData.name=o)},null,8,["value"])]),_:1}),t(s,{label:"活动描述",name:"desc"},{default:l(()=>[t(i,{value:e.saveFormData.desc,"onUpdate:value":a[1]||(a[1]=o=>e.saveFormData.desc=o)},null,8,["value"])]),_:1}),t(s,{label:"时间段",name:"time_type",rules:[{required:!0,message:""}]},{default:l(()=>[t(d,{placeholder:"时间段",value:e.saveFormData.time_type,"onUpdate:value":a[2]||(a[2]=o=>e.saveFormData.time_type=o),constant:e.constant.spike_time_type},null,8,["value","constant"])]),_:1}),t(s,{label:"开始时间",name:"start_at",rules:[{required:!0,message:""}]},{default:l(()=>[e.saveFormData.time_type==1?(r(),u(p,{key:0,value:e.saveFormData.start_at,"onUpdate:value":a[3]||(a[3]=o=>e.saveFormData.start_at=o)},null,8,["value"])):m("",!0),e.saveFormData.time_type==2?(r(),u(v,{key:1,value:e.saveFormData.start_at,"onUpdate:value":a[4]||(a[4]=o=>e.saveFormData.start_at=o)},null,8,["value"])):m("",!0)]),_:1}),t(s,{label:"结束时间",name:"end_at",rules:[{required:!0,message:""}]},{default:l(()=>[e.saveFormData.time_type==1?(r(),u(p,{key:0,value:e.saveFormData.end_at,"onUpdate:value":a[5]||(a[5]=o=>e.saveFormData.end_at=o)},null,8,["value"])):m("",!0),e.saveFormData.time_type==2?(r(),u(v,{key:1,value:e.saveFormData.end_at,"onUpdate:value":a[6]||(a[6]=o=>e.saveFormData.end_at=o)},null,8,["value"])):m("",!0)]),_:1}),t(s,{label:"秒杀商品",name:"goods_ids",rules:[{required:!0,message:""}]},{default:l(()=>[t(f,{onlyvalue:"",value:e.saveFormData.goods_ids,"onUpdate:value":a[7]||(a[7]=o=>e.saveFormData.goods_ids=o),options:e.goods,value_key:"goods_id",name_key:"title"},null,8,["value","options"])]),_:1}),t(s,{label:"活动图片",name:"cover_img",rules:[{required:!0,message:""}]},{default:l(()=>[t(y,{maxCount:1,value:e.saveFormData.cover_img,"onUpdate:value":a[8]||(a[8]=o=>e.saveFormData.cover_img=o)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),search:l(()=>[t(_,{layout:"inline"},{default:l(()=>[t(s,{label:"秒杀名称",name:"name"},{default:l(()=>[t(i,{value:e.searchObj.name,"onUpdate:value":a[9]||(a[9]=o=>e.searchObj.name=o)},null,8,["value"])]),_:1}),t(s,{label:"时间段",name:"time_type"},{default:l(()=>[t(d,{placeholder:"时间段",value:e.searchObj.time_type,"onUpdate:value":a[10]||(a[10]=o=>e.searchObj.time_type=o),constant:e.constant.spike_time_type},null,8,["value","constant"])]),_:1})]),_:1})]),_:1})}const O=D(F,[["render",g]]);export{O as default};
