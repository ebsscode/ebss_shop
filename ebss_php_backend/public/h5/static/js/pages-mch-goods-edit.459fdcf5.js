(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mch-goods-edit"],{"01be":function(t,e,n){var o=n("259b");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=n("967d").default;a("af757fac",o,!0,{sourceMap:!1,shadowMode:!1})},"259b":function(t,e,n){var o=n("c86c");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 通用 */\n/* 文字尺寸 */\n/* 页面配置 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.form-item[data-v-13cf89e9]{display:flex;align-items:center}',""]),t.exports=e},"30c8":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticStyle:{padding:"20rpx 10px"}},[n("StatusBar"),n("TopBar",{attrs:{title:t.form.goods_id?"编辑商品":"新增商品"}}),n("FormWrapper",{scopedSlots:t._u([{key:"item",fn:function(){return[n("FormItem",{attrs:{name:"商品标题"},scopedSlots:t._u([{key:"input",fn:function(){return[n("HInput",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})]},proxy:!0}])}),n("FormItem",{attrs:{name:"主图"},scopedSlots:t._u([{key:"input",fn:function(){return[n("ImgUpload",{attrs:{max:1},model:{value:t.form.cover_img,callback:function(e){t.$set(t.form,"cover_img",e)},expression:"form.cover_img"}})]},proxy:!0}])}),n("FormItem",{attrs:{name:"商品图片"},scopedSlots:t._u([{key:"input",fn:function(){return[n("ImgUpload",{attrs:{max:10},model:{value:t.form.imglist,callback:function(e){t.$set(t.form,"imglist",e)},expression:"form.imglist"}})]},proxy:!0}])}),n("FormItem",{attrs:{name:"库存"},scopedSlots:t._u([{key:"input",fn:function(){return[n("HInput",{model:{value:t.form.quantity,callback:function(e){t.$set(t.form,"quantity",e)},expression:"form.quantity"}})]},proxy:!0}])}),n("FormItem",{attrs:{name:"售价"},scopedSlots:t._u([{key:"input",fn:function(){return[n("HInput",{model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})]},proxy:!0}])}),n("FormItem",{attrs:{name:"进价"},scopedSlots:t._u([{key:"input",fn:function(){return[n("HInput",{model:{value:t.form.original_price,callback:function(e){t.$set(t.form,"original_price",e)},expression:"form.original_price"}})]},proxy:!0}])}),n("FormItem",{attrs:{name:"上架"},scopedSlots:t._u([{key:"input",fn:function(){return[n("YesOrNo",{model:{value:t.form.is_listing,callback:function(e){t.$set(t.form,"is_listing",e)},expression:"form.is_listing"}})]},proxy:!0}])}),n("FormItem",{attrs:{name:"运费"},scopedSlots:t._u([{key:"input",fn:function(){return[n("HInput",{model:{value:t.form.freight,callback:function(e){t.$set(t.form,"freight",e)},expression:"form.freight"}})]},proxy:!0}])})]},proxy:!0}])}),n("v-uni-view",{staticClass:"btn-primary",staticStyle:{"margin-top":"10px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("提交")])],1)},a=[]},4982:function(t,e,n){"use strict";n.r(e);var o=n("a534"),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},"57ce":function(t,e,n){"use strict";var o=n("01be"),a=n.n(o);a.a},6031:function(t,e,n){var o=n("b5c5");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=n("967d").default;a("1f21cfe8",o,!0,{sourceMap:!1,shadowMode:!1})},"6eb1":function(t,e,n){"use strict";n.r(e);var o=n("b5e7"),a=n("e99f");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("ae71");var r=n("828b"),u=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"705d399a",null,!1,o["a"],void 0);e["default"]=u.exports},"760b":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-switch",{staticStyle:{transform:"scale(0.8)"},attrs:{checked:t.is_on,color:"#fa436a"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}})},a=[]},8240:function(t,e,n){"use strict";(function(t){n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa");var o={name:"YesOrNo",props:{value:{type:Number,default:null},disabled:{type:Boolean,default:!1},changed:{type:Boolean,default:!1}},watch:{value:{handler:function(t,e){this.is_on=1==t},immediate:!0}},data:function(){return{is_on:!1}},methods:{change:function(e){t.log(e,555),this.$emit("update:value",e.detail.value?1:0),this.$emit("input",e.detail.value?1:0)}}};e.default=o}).call(this,n("ba7c")["default"])},"9e84":function(t,e,n){"use strict";n.r(e);var o=n("760b"),a=n("ba7f");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var r=n("828b"),u=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"0dbe5d70",null,!1,o["a"],void 0);e["default"]=u.exports},a534:function(t,e,n){"use strict";n("6a54");var o=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n("9b1b")),i=o(n("8346")),r=o(n("b283")),u=o(n("f49e")),c=o(n("6eb1")),s=o(n("f572")),l=o(n("9e84")),f=(n("e2ef"),{components:{ImgUpload:i.default,HTextArea:r.default,FormItem:u.default,HInput:c.default,FormWrapper:s.default,YesOrNo:l.default},data:function(){return{form:{}}},onLoad:function(t){t.goods_id&&(this.form.goods_id=t.goods_id,this.getData())},methods:{getData:function(){var t=this;this.post("crud/detail",{table:"shop_goods",goods_id:this.form.goods_id}).then((function(e){var n=e.code,o=e.detail;1===n&&(t.form=o)}))},submit:function(t){var e=this;this.post("crud/save",(0,a.default)({table:"shop_goods"},this.form)).then((function(t){var n=t.code,o=t.msg;1===n&&(e.getData(),e.success(o))}))}}});e.default=f},ae71:function(t,e,n){"use strict";var o=n("6031"),a=n.n(o);a.a},b5c5:function(t,e,n){var o=n("c86c");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 通用 */\n/* 文字尺寸 */\n/* 页面配置 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.input[data-v-705d399a]{overflow-wrap:break-word;font-size:14px;text-align:left;white-space:nowrap;color:#000}',""]),t.exports=e},b5e7:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-input",{staticClass:"input",attrs:{placeholder:t.placeholder,focus:t.focus,disabled:t.disabled,maxlength:"-1"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.input.apply(void 0,arguments)}},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}})},a=[]},ba7f:function(t,e,n){"use strict";n.r(e);var o=n("8240"),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},c726:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa");var o={name:"HInput",props:{value:{type:[String,Number],default:""},placeholder:{type:String,default:"请输入.."},focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},watch:{value:{handler:function(t,e){this.val=t},immediate:!0}},data:function(){return{val:""}},methods:{input:function(t){this.$emit("update:value",t.detail.value),this.$emit("input",t.detail.value)}}};e.default=o},e2ef:function(t,e,n){"use strict";(function(t){n("6a54");var o=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.openLocation=e.getLocation=e.getDistance=e.chooseLocation=void 0;var a=o(n("2634")),i=o(n("2fdc"));n("bf0f"),n("d4b5");var r=n("38df");e.getDistance=function(t,e,n,o){var a=t*Math.PI/180,i=n*Math.PI/180,r=a-i,u=e*Math.PI/180-o*Math.PI/180,c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(r/2),2)+Math.cos(a)*Math.cos(i)*Math.pow(Math.sin(u/2),2)));return c*=6378.137,c=Math.round(1e4*c)/1e4,c.toFixed(2)};e.getLocation=function(){return new Promise((function(e,n){uni.getLocation({type:"gcj02",success:function(){var n=(0,i.default)((0,a.default)().mark((function n(o){var i,u;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i={},uni.setStorageSync("latitude",o.latitude),uni.setStorageSync("longitude",o.longitude),n.next=5,(0,r.http)("get","location/latlng_to_addr",{latitude:o.latitude,longitude:o.longitude});case 5:u=n.sent,u&&1==u.code?(uni.setStorageSync("location",u),i=u):t.error("getLocation-失败：",u),e(i);case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),fail:function(e){t.error("获取位置失败:"+e.errMsg),n(e)},complete:function(e){var n=uni.getStorageSync("configs");n&&1==n.is_debug&&t.error(JSON.stringify(e))}})}))};e.chooseLocation=function(){return new Promise((function(e,n){uni.chooseLocation({type:"gcj02",success:function(){var n=(0,i.default)((0,a.default)().mark((function n(o){var i,u;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i={},n.next=3,(0,r.http)("get","location/latlng_to_addr",{latitude:o.latitude,longitude:o.longitude});case 3:u=n.sent,u&&1==u.code?i=u:t.error("chooseLocation-失败：",u),e(i);case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),fail:function(e){t.error("选择位置失败:"+e.errMsg,2e3),n(e)}})}))};e.openLocation=function(e,n){uni.openLocation({latitude:1*n,longitude:1*e,success:function(){t.log("success")}})}}).call(this,n("ba7c")["default"])},e99f:function(t,e,n){"use strict";n.r(e);var o=n("c726"),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},fd22:function(t,e,n){"use strict";n.r(e);var o=n("30c8"),a=n("4982");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("57ce");var r=n("828b"),u=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"13cf89e9",null,!1,o["a"],void 0);e["default"]=u.exports}}]);