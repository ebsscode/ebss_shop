(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shop-coupon-list"],{"5ad6":function(t,n,a){var e=a("c40e");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=a("4f06").default;i("8fb06af4",e,!0,{sourceMap:!1,shadowMode:!1})},"9e9a":function(t,n,a){"use strict";var e=a("5ad6"),i=a.n(e);i.a},b57c:function(t,n,a){"use strict";a("7a82"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,a("d81d");n.default={components:{},data:function(){return{couponStatus:0,navState:"coupon",navbarHeadState:[{value:"coupon",title:"领券中心"},{value:"user_coupon",title:"我的优惠券"}],couponsState:[{id:1,title:"可使用"},{id:2,title:"暂不可用"},{id:3,title:"无效优惠券"}],coupon_list:[],user_coupon_list:[]}},onLoad:function(t){t.navState&&(this.navState=t.navState),t.couponStatus&&(this.couponStatus=t.couponStatus),this.getData()},methods:{onNav:function(t){this.couponStatus!=t&&(this.couponStatus=t,this.getData())},onHead:function(t){this.navState!==t&&(this.navState=t,"coupon"===t&&(this.couponStatus=0),"user_coupon"===t&&(this.couponStatus=1),this.coupon_list=[],this.getData())},getData:function(){var t=this;"coupon"==this.navState&&this.post("crud/list",{table:"coupon"}).then((function(n){var a=n.code,e=n.paginate;1==a&&(t.coupon_list=e.data.map((function(n){var a=t.util.getTime10();return n.start_time>a&&(n.status="no_start"),a>=n.start_time&&a<=n.expire_time&&(n.status="start"),a>n.expire_time&&(n.status="end"),n})))})),"user_coupon"==this.navState&&this.get("coupon/my",{}).then((function(n){var a=n.code,e=n.list;1==a&&(t.user_coupon_list=e.map((function(n){t.util.getTime10();return n})))}))}}}},c40e:function(t,n,a){var e=a("24fb");n=e(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 通用 */\r\n/* 文字尺寸 */\r\n/* 页面配置 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.gray-wrap[data-v-7d0c36aa]{-webkit-filter:grayscale(1);\r\n  /* Webkit */filter:gray;\r\n  /* IE6-9 */filter:grayscale(1)\r\n  /* W3C */}.nav-item[data-v-7d0c36aa]{flex:1;height:100%}.nav-item .item-title[data-v-7d0c36aa]{font-size:%?30?%;font-weight:400;color:#666}.nav-item .title-active[data-v-7d0c36aa]{font-size:%?32?%;font-weight:500;color:#333}.nav-item .nav-line[data-v-7d0c36aa]{width:%?128?%;height:%?6?%;border-radius:%?3?%;margin-top:5px}.nav-item .line-active[data-v-7d0c36aa]{background:#e9b664}.nav-wrap[data-v-7d0c36aa]{width:100%}.coupon-nav[data-v-7d0c36aa]{padding:0 %?30?%;margin-top:10px}.coupon-nav .nav-btn[data-v-7d0c36aa]{margin-right:%?10?%;font-size:%?26?%;color:#666;border-radius:5px;padding:5px 10px}.coupon-nav .btn-active[data-v-7d0c36aa]{font-size:%?26?%;color:#fff;background-color:#faae0c}.coupon-list[data-v-7d0c36aa]{margin:%?30?% %?20?%}.coupon-wrap[data-v-7d0c36aa]{-webkit-mask:url(https://h.vivivi.club/static/shop/coupon_bg1.png);mask:url(https://h.vivivi.club/static/shop/coupon_bg1.png);-webkit-mask-size:100% 100%;mask-size:100% 100%;position:relative;border-radius:%?10?%;width:100%;background:linear-gradient(90deg,#fcbd71,#f90)}.coupon-wrap .coupon-item[data-v-7d0c36aa]{width:100%;border-radius:%?10?%;padding:%?10?%}.coupon-wrap .coupon-item .coupon-left[data-v-7d0c36aa]{height:100%;justify-content:center;padding-left:%?40?%}.coupon-wrap .coupon-item .coupon-left .unit[data-v-7d0c36aa]{font-size:%?24?%;color:#fff}.coupon-wrap .coupon-item .coupon-left .sum[data-v-7d0c36aa]{font-size:%?55?%;font-weight:700;color:#fff;line-height:%?55?%;padding-right:%?10?%}.coupon-wrap .coupon-item .coupon-left .sub[data-v-7d0c36aa]{font-size:%?26?%;color:#fff}.coupon-wrap .coupon-item .coupon-left .notice[data-v-7d0c36aa]{font-size:%?22?%;color:hsla(0,0%,100%,.7);margin-top:%?6?%}.coupon-wrap .coupon-item .coupon-right[data-v-7d0c36aa]{width:%?220?%;justify-content:center;align-items:center}.coupon-wrap .coupon-item .coupon-right .get-btn[data-v-7d0c36aa]{width:%?142?%;height:%?54?%;background:#fff;border-radius:%?27?%;padding:0;font-size:%?24?%;font-weight:500;color:#f90}.coupon-wrap .coupon-item .coupon-right .surplus-num[data-v-7d0c36aa]{font-size:%?22?%;font-weight:500;color:#fff;margin-top:%?14?%}',""]),t.exports=n},c630:function(t,n,a){"use strict";a.r(n);var e=a("ca12"),i=a("f461");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(n,t,(function(){return i[t]}))}(o);a("9e9a");var s=a("f0c5"),u=Object(s["a"])(i["default"],e["b"],e["c"],!1,null,"7d0c36aa",null,!1,e["a"],void 0);n["default"]=u.exports},ca12:function(t,n,a){"use strict";a.d(n,"b",(function(){return e})),a.d(n,"c",(function(){return i})),a.d(n,"a",(function(){}));var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("v-uni-view",{staticStyle:{"padding-top":"15px"}},[a("StatusBar"),a("v-uni-view",{},[a("v-uni-view",{staticClass:"flex-row nav-wrap"},t._l(t.navbarHeadState,(function(n,e){return a("v-uni-view",{key:e,staticClass:"nav-item flex-col justify-center align-center",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onHead(n.value)}}},[a("v-uni-view",{staticClass:"item-title",class:{"title-active":t.navState===n.value}},[t._v(t._s(n.title))]),a("v-uni-text",{staticClass:"nav-line",class:{"line-active":t.navState===n.value}})],1)})),1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"user_coupon"===t.navState,expression:"navState === 'user_coupon'"}],staticClass:"coupon-nav flex-row"},t._l(t.couponsState,(function(n,e){return a("v-uni-view",{key:e,staticClass:"nav-btn flex-col justify-center align-center",class:{"btn-active":n.id==t.couponStatus},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onNav(n.id)}}},[a("v-uni-view",{staticClass:"item-title"},[t._v(t._s(n.title))])],1)})),1)],1),a("v-uni-view",[t.coupon_list.length&&"coupon"==t.navState?t._l(t.coupon_list,(function(n,e){return a("v-uni-view",{key:e,staticClass:"coupon-list"},[a("v-uni-view",{staticClass:"coupon-wrap",class:{"gray-wrap":"end"==n.status}},[a("v-uni-view",{staticClass:"coupon-item flex-row justify-between"},[a("v-uni-view",{staticClass:"coupon-left flex-col "},[a("v-uni-view",{staticClass:"flex-row align-center"},[a("v-uni-text",{staticClass:"unit"},[t._v("￥")]),a("v-uni-view",{staticClass:"sum"},[t._v(t._s(n.amount)),a("v-uni-text",{staticStyle:{"font-size":"26rpx"}},[t._v(t._s(2==n.type?"折":"元"))])],1),a("v-uni-text",{staticClass:"sub"},[t._v(t._s(n.name))])],1),a("v-uni-view",{staticClass:"notice"},[t._v(t._s(n.full_amount>0?"满"+n.full_amount+"元可用":"无使用限制")),n.is_superimposed?a("v-uni-text",{staticClass:"sub"},[t._v("(可叠加使用)")]):t._e()],1),a("v-uni-view",{staticClass:"notice"},[t._v("有效期："+t._s(t.formatTime(n.start_time))+"-"+t._s(t.formatTime(n.expire_time)))])],1),a("v-uni-view",{staticClass:"coupon-right flex-col align-center"},["end"==n.status?a("v-uni-button",{staticClass:"get-btn align-center justify-center"},[t._v("已结束")]):a("v-uni-button",{staticClass:"get-btn align-center justify-center",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.nav("/pages/shop/coupon/detail?coupon_id="+n.coupon_id)}}},[t._v("立即领取")]),n.total-n.receive_total>0?a("v-uni-view",{staticClass:"surplus-num"},[t._v("仅剩"+t._s(n.total-n.receive_total)+"张")]):a("v-uni-view",{staticClass:"surplus-num"},[t._v("已领完")])],1)],1)],1)],1)})):t._e(),t.user_coupon_list.length&&"user_coupon"==t.navState?t._l(t.user_coupon_list,(function(n,e){return a("v-uni-view",{key:e},[1==t.couponStatus&&4==n.status||2==t.couponStatus&&5==n.status||3==t.couponStatus&&6==n.status?a("v-uni-view",{staticClass:"coupon-list"},[a("v-uni-view",{staticClass:"coupon-wrap",class:{"gray-wrap":5==n.status||6==n.status}},[a("v-uni-view",{staticClass:"coupon-item flex-row justify-between"},[a("v-uni-view",{staticClass:"coupon-left flex-col "},[a("v-uni-view",{staticClass:"flex-row align-center"},[a("v-uni-text",{staticClass:"unit"},[t._v("￥")]),a("v-uni-view",{staticClass:"sum"},[t._v(t._s(n.coupon.amount)),a("v-uni-text",{staticStyle:{"font-size":"26rpx"}},[t._v(t._s(2==n.coupon.type?"折":"元"))])],1),a("v-uni-text",{staticClass:"sub"},[t._v(t._s(n.coupon.name))])],1),a("v-uni-view",{staticClass:"notice"},[t._v(t._s(n.coupon.full_amount>0?"满"+n.coupon.full_amount+"元可用":"无使用限制")),n.is_superimposed?a("v-uni-text",{staticClass:"sub"},[t._v("(可叠加使用)")]):t._e()],1),a("v-uni-view",{staticClass:"notice"},[t._v("有效期："+t._s(t.formatTime(n.coupon.start_time))+"-"+t._s(t.formatTime(n.coupon.expire_time)))])],1),a("v-uni-view",{staticClass:"coupon-right flex-col align-center"},[6==n.status?a("v-uni-button",{staticClass:"get-btn align-center justify-center"},[t._v("已过期")]):t._e(),5==n.status?a("v-uni-button",{staticClass:"get-btn align-center justify-center"},[t._v("已使用")]):t._e(),4==n.status?a("v-uni-button",{staticClass:"get-btn align-center justify-center",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.nav("/pages/shop/goods/goodslist?goods_ids="+n.coupon.goods_ids)}}},[t._v("去使用")]):t._e()],1)],1)],1)],1):t._e()],1)})):t._e(),!t.coupon_list.length&&"coupon"==t.navState||!t.user_coupon_list.length&&"user_coupon"==t.navState?a("Empty",{attrs:{tips_text:"暂无此类优惠券"}}):t._e()],2)],1)},i=[]},f461:function(t,n,a){"use strict";a.r(n);var e=a("b57c"),i=a.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){a.d(n,t,(function(){return e[t]}))}(o);n["default"]=i.a}}]);