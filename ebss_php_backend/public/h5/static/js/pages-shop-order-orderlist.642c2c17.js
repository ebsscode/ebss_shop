(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shop-order-orderlist"],{"0317":function(t,a,e){var i=e("c86c");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 通用 */\n/* 文字尺寸 */\n/* 页面配置 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-5aa0101e], .content[data-v-5aa0101e]{background:#f8f8f8;height:100%}body.?%PAGE?%[data-v-5aa0101e]{background:#f8f8f8}.swiper-box[data-v-5aa0101e]{height:calc(100vh - 40px)}.list-scroll-content[data-v-5aa0101e]{height:100%}.navbar[data-v-5aa0101e]{display:flex;height:40px;padding:0 5px;background:#fff;box-shadow:0 1px 5px rgba(0,0,0,.06);position:relative;z-index:10}.navbar .nav-item[data-v-5aa0101e]{flex:1;display:flex;justify-content:center;align-items:center;height:100%;font-size:15px;color:#303133;position:relative}.navbar .nav-item.current[data-v-5aa0101e]{color:#f32779}.navbar .nav-item.current[data-v-5aa0101e]:after{content:"";position:absolute;left:50%;bottom:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:44px;height:0;border-bottom:2px solid #f32779}.uni-swiper-item[data-v-5aa0101e]{height:auto}.order-item[data-v-5aa0101e]{display:flex;flex-direction:column;padding-left:%?30?%;background:#fff;margin-top:%?16?%\n  /* 多条商品 */\n  /* 单条商品 */}.order-item .i-top[data-v-5aa0101e]{display:flex;align-items:center;height:%?80?%;padding-right:%?30?%;font-size:%?28?%;color:#303133;position:relative}.order-item .i-top .time[data-v-5aa0101e]{flex:1}.order-item .i-top .state[data-v-5aa0101e]{color:#f32779}.order-item .i-top .del-btn[data-v-5aa0101e]{padding:%?10?% 0 %?10?% %?36?%;font-size:%?32?%;color:#909399;position:relative}.order-item .i-top .del-btn[data-v-5aa0101e]:after{content:"";width:0;height:%?30?%;border-left:1px solid #dcdfe6;position:absolute;left:%?20?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.order-item .goods-box[data-v-5aa0101e]{height:%?160?%;padding:%?20?% 0;white-space:nowrap}.order-item .goods-box .goods-item[data-v-5aa0101e]{width:%?120?%;height:%?120?%;display:inline-block;margin-right:%?24?%}.order-item .goods-box .goods-img[data-v-5aa0101e]{display:block;width:100%;height:100%}.order-item .goods-box-single[data-v-5aa0101e]{display:flex;padding:%?20?% 0}.order-item .goods-box-single .goods-img[data-v-5aa0101e]{display:block;width:%?120?%;height:%?120?%}.order-item .goods-box-single .right[data-v-5aa0101e]{flex:1;display:flex;flex-direction:column;padding:0 %?30?% 0 %?24?%;overflow:hidden}.order-item .goods-box-single .right .title[data-v-5aa0101e]{font-size:%?30?%;color:#303133;line-height:1}.order-item .goods-box-single .right .attr-box[data-v-5aa0101e]{font-size:%?26?%;color:#909399;padding:%?10?% %?12?%}.order-item .goods-box-single .right .price[data-v-5aa0101e]{font-size:%?30?%;color:#303133}.order-item .goods-box-single .right .price[data-v-5aa0101e]:before{content:"￥";font-size:%?24?%;margin:0 %?2?% 0 %?8?%}.order-item .price-box[data-v-5aa0101e]{display:flex;justify-content:flex-end;align-items:baseline;padding:%?20?% %?30?%;font-size:%?26?%;color:#909399}.order-item .price-box .num[data-v-5aa0101e]{margin:0 %?8?%;color:#303133}.order-item .price-box .price[data-v-5aa0101e]{font-size:%?32?%;color:#303133}.order-item .price-box .price[data-v-5aa0101e]:before{content:"￥";font-size:%?24?%;margin:0 %?2?% 0 %?8?%}.order-item .action-box[data-v-5aa0101e]{display:flex;justify-content:flex-end;align-items:center;position:relative;padding-right:%?30?%;margin-bottom:10px}.order-item .action-btn[data-v-5aa0101e]{width:%?160?%;height:%?60?%;margin:0;margin-left:%?24?%;padding:0;text-align:center;line-height:%?60?%;font-size:%?26?%;color:#303133;background:#fff;border-radius:100px}.order-item .action-btn[data-v-5aa0101e]:after{border-radius:100px}.order-item .action-btn.recom[data-v-5aa0101e]{background:#fff9f9;color:#f32779}.order-item .action-btn.recom[data-v-5aa0101e]:after{border-color:#f7bcc8}',""]),t.exports=a},"0922":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"uni-load-more"},[e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.status&&t.showIcon,expression:"status === 'loading' && showIcon"}],staticClass:"uni-load-more__img"},[e("v-uni-view",{staticClass:"load1"},[e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}})],1),e("v-uni-view",{staticClass:"load2"},[e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}})],1),e("v-uni-view",{staticClass:"load3"},[e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}}),e("v-uni-view",{style:{background:t.color}})],1)],1),e("v-uni-text",{staticClass:"uni-load-more__text",style:{color:t.color}},[t._v(t._s("more"===t.status?t.contentText.contentdown:"loading"===t.status?t.contentText.contentrefresh:t.contentText.contentnomore))])],1)},n=[]},"131a":function(t,a,e){"use strict";e.r(a);var i=e("751f"),n=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a},"1d60":function(t,a,e){"use strict";var i=e("2311"),n=e.n(i);n.a},2311:function(t,a,e){var i=e("0317");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("967d").default;n("59794bc4",i,!0,{sourceMap:!1,shadowMode:!1})},"447a":function(t,a,e){"use strict";e.r(a);var i=e("e925"),n=e("131a");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("1d60");var s=e("828b"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"5aa0101e",null,!1,i["a"],void 0);a["default"]=r.exports},"4a41":function(t,a,e){"use strict";e.r(a);var i=e("0922"),n=e("b9df");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("d1d2");var s=e("828b"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"25a6f004",null,!1,i["a"],void 0);a["default"]=r.exports},"751f":function(t,a,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("bd06"),e("dd2b");var n=i(e("4a41")),o={components:{LoadMore:n.default},data:function(){return{tabCurrentIndex:0,user_id:uni.getStorageSync("user_id"),order_status:this.constant.order_status,orderList:[],loadingType:"more",navList:[{status:"",text:"全部"},{status:3,text:"待付款"},{status:4,text:"待发货"},{status:5,text:"待收货"},{status:6,text:"待评价"},{status:8,text:"售后"}]}},onLoad:function(t){if(t.status){var a=this.navList.findIndex((function(a){return a.status==t.status}));a>=0&&(this.tabCurrentIndex=a)}},onShow:function(){this.getData()},methods:{go_commont:function(t){this.nav("/pages/shop/goods/comment?order_id="+t.order_id)},go_pay:function(t){var a=this;this.post("pay/get_busi_paylog",{busi_table_id:t.order_id,type:"goods_order"}).then((function(t){var e=t.code,i=t.paylog_id;1===e&&a.nav("/pages/shop/cashier/pay?paylog_id="+i)}))},getData:function(){var t=this,a=this.tabCurrentIndex,e=this.navList[a];"loading"!==this.loadingType&&(this.loadingType="loading",this.get("crud/list",{table:"shop_order",user_id:this.user_id,status:e.status,delete_user:0}).then((function(a){var e=a.code,i=a.paginate;1===e?(t.orderList=i.data,i.data.length<i.per_page&&(t.loadingType="nomore")):t.loadingType="nomore"})))},changeTab:function(t){this.orderList=[],this.tabCurrentIndex=t.target.current,this.getData()},tabClick:function(t){this.tabCurrentIndex=t},deleteOrder:function(t){var a=this;uni.showModal({content:"确定删除吗？",success:function(e){e.confirm&&a.post("order/delete",{order_id:a.orderList[t].order_id}).then((function(e){var i=e.code;e.msg;1===i&&a.orderList.splice(t,1)}))}})},cancelOrder:function(t,a){var e=this;uni.showModal({content:"确定取消订单吗？",success:function(t){t.confirm&&e.post("order/cancel",{order_id:a.order_id}).then((function(t){var a=t.code,i=t.msg;1===a&&(e.getData(),e.success(i))}))}})}}};a.default=o},8856:function(t,a,e){var i=e("c6eb");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("967d").default;n("2811fa6a",i,!0,{sourceMap:!1,shadowMode:!1})},b9df:function(t,a,e){"use strict";e.r(a);var i=e("e855"),n=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a},c6eb:function(t,a,e){var i=e("c86c");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 通用 */\n/* 文字尺寸 */\n/* 页面配置 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-load-more[data-v-25a6f004]{display:flex;flex-direction:row;height:%?80?%;align-items:center;justify-content:center}.uni-load-more__text[data-v-25a6f004]{font-size:%?28?%;color:#999}.uni-load-more__img[data-v-25a6f004]{height:24px;width:24px;margin-right:10px}.uni-load-more__img > uni-view[data-v-25a6f004]{position:absolute}.uni-load-more__img > uni-view uni-view[data-v-25a6f004]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#999;position:absolute;opacity:.2;-webkit-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-25a6f004 1.56s ease infinite;animation:load-data-v-25a6f004 1.56s ease infinite}.uni-load-more__img > uni-view uni-view[data-v-25a6f004]:nth-child(1){-webkit-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.uni-load-more__img > uni-view uni-view[data-v-25a6f004]:nth-child(2){-webkit-transform:rotate(180deg);transform:rotate(180deg);top:11px;right:0}.uni-load-more__img > uni-view uni-view[data-v-25a6f004]:nth-child(3){-webkit-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.uni-load-more__img > uni-view uni-view[data-v-25a6f004]:nth-child(4){top:11px;left:0}.load1[data-v-25a6f004],\n.load2[data-v-25a6f004],\n.load3[data-v-25a6f004]{height:24px;width:24px}.load2[data-v-25a6f004]{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-25a6f004]{-webkit-transform:rotate(60deg);transform:rotate(60deg)}.load1 uni-view[data-v-25a6f004]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.load2 uni-view[data-v-25a6f004]:nth-child(1){-webkit-animation-delay:.13s;animation-delay:.13s}.load3 uni-view[data-v-25a6f004]:nth-child(1){-webkit-animation-delay:.26s;animation-delay:.26s}.load1 uni-view[data-v-25a6f004]:nth-child(2){-webkit-animation-delay:.39s;animation-delay:.39s}.load2 uni-view[data-v-25a6f004]:nth-child(2){-webkit-animation-delay:.52s;animation-delay:.52s}.load3 uni-view[data-v-25a6f004]:nth-child(2){-webkit-animation-delay:.65s;animation-delay:.65s}.load1 uni-view[data-v-25a6f004]:nth-child(3){-webkit-animation-delay:.78s;animation-delay:.78s}.load2 uni-view[data-v-25a6f004]:nth-child(3){-webkit-animation-delay:.91s;animation-delay:.91s}.load3 uni-view[data-v-25a6f004]:nth-child(3){-webkit-animation-delay:1.04s;animation-delay:1.04s}.load1 uni-view[data-v-25a6f004]:nth-child(4){-webkit-animation-delay:1.17s;animation-delay:1.17s}.load2 uni-view[data-v-25a6f004]:nth-child(4){-webkit-animation-delay:1.3s;animation-delay:1.3s}.load3 uni-view[data-v-25a6f004]:nth-child(4){-webkit-animation-delay:1.43s;animation-delay:1.43s}@-webkit-keyframes load-data-v-25a6f004{0%{opacity:1}100%{opacity:.2}}',""]),t.exports=a},d1d2:function(t,a,e){"use strict";var i=e("8856"),n=e.n(i);n.a},e855:function(t,a,e){"use strict";e("6a54"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i={name:"uni-load-more",props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{}}};a.default=i},e925:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"content"},[e("StatusBar"),e("TopBar",{attrs:{title:"订单"}}),e("v-uni-view",{staticClass:"navbar"},t._l(t.navList,(function(a,i){return e("v-uni-view",{key:i,staticClass:"nav-item",class:{current:t.tabCurrentIndex===i},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.tabClick(i)}}},[t._v(t._s(a.text))])})),1),e("v-uni-swiper",{staticClass:"swiper-box",attrs:{current:t.tabCurrentIndex,duration:"300"},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.changeTab.apply(void 0,arguments)}}},t._l(t.navList,(function(a,i){return e("v-uni-swiper-item",{key:i,staticClass:"tab-content"},[e("v-uni-scroll-view",{staticClass:"list-scroll-content",attrs:{"scroll-y":!0},on:{scrolltolower:function(a){arguments[0]=a=t.$handleEvent(a),t.getData.apply(void 0,arguments)}}},[t._l(t.orderList,(function(a,i){return e("v-uni-view",{key:i,staticClass:"order-item"},[e("v-uni-view",{staticClass:"i-top b-b"},[e("v-uni-text",{staticClass:"time",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.nav("/pages/shop/order/detail?order_id="+a.order_id)}}},[t._v(t._s(t.formatTime(a.add_time)))]),3==a.status||4==a.status||5==a.status||8==a.status?e("v-uni-text",{staticClass:"state",style:{color:"#fa436a"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.nav("/pages/shop/order/detail?order_id="+a.order_id)}}},[t._v(t._s(t.order_status[a.status]))]):e("v-uni-text",{staticClass:"state",staticStyle:{color:"#909399"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.nav("/pages/shop/order/detail?order_id="+a.order_id)}}},[t._v(t._s(t.order_status[a.status]))]),7==a.status||9==a.status?e("v-uni-text",{staticClass:"del-btn QQ811565456 hewei-shanchu",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.deleteOrder(i)}}}):t._e()],1),a.order_goods.length>1?e("v-uni-scroll-view",{staticClass:"goods-box",attrs:{"scroll-x":!0}},t._l(a.order_goods,(function(a,i){return e("v-uni-view",{key:i,staticClass:"goods-item"},[e("v-uni-image",{staticClass:"goods-img",attrs:{src:t.staticURL()+"/"+a.cover_img,mode:"aspectFill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.nav("/pages/shop/goods/detail?goods_id="+a.goods_id)}}})],1)})),1):t._e(),t._l(a.order_goods,(function(i,n){return 1==a.order_goods.length?e("v-uni-view",{key:n,staticClass:"goods-box-single"},[e("v-uni-image",{staticClass:"goods-img",attrs:{src:t.staticURL()+"/"+i.cover_img,mode:"aspectFill"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.nav("/pages/shop/goods/detail?goods_id="+i.goods_id)}}}),e("v-uni-view",{staticClass:"right"},[e("v-uni-text",{staticClass:"title clamp"},[t._v(t._s(i.title))]),e("v-uni-text",{staticClass:"attr-box"},[t._v(t._s(i.selected_spec)+"  x "+t._s(i.amount))]),e("v-uni-text",{staticClass:"price"},[t._v(t._s(i.price))])],1)],1):t._e()})),e("v-uni-view",{staticClass:"price-box"},[t._v("共"),e("v-uni-text",{staticClass:"num"},[t._v(t._s(a.order_goods.length))]),t._v("件商品 实付款"),e("v-uni-text",{staticClass:"price"},[t._v(t._s(a.order_money))])],1),e("v-uni-view",{staticClass:"action-box b-t"},[3==a.status||4==a.status||5==a.status?e("v-uni-button",{staticClass:"action-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelOrder(i,a)}}},[t._v("取消订单")]):t._e(),3==a.status?e("v-uni-button",{staticClass:"action-btn recom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.go_pay(a)}}},[t._v("立即支付")]):t._e(),6==a.status?e("v-uni-button",{staticClass:"action-btn recom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.go_commont(a)}}},[t._v("去评价")]):t._e()],1)],2)})),0===t.orderList.length?e("Empty",{attrs:{tips_text:"暂无订单数据"}}):t._e(),t.orderList.length>0?e("LoadMore",{attrs:{status:t.loadingType}}):t._e()],2)],1)})),1)],1)},n=[]}}]);