import{_ as u,r as h,o as r,c as l,a as e,w as a,v as p,b as c,p as g,d as m}from"./index-eba80501.js";const f={name:"login",data(){return{form:{login_type:1,tel:"17096709660",password:"123456",code:"",username:""},user_info:null,configs:this.util.getStorage("configs")}},created(){},methods:{sendsms(){if(this.form.tel.length!=11){this.error("手机号不正确");return}this.get("index/sendsms",{type:"login_code",tel:this.form.tel}).then(({code:o})=>{o===1&&this.success("发送验证码成功！")})},bindLogin(){if(this.form.tel.length!=11){this.error("手机号不正确");return}if(this.form.login_type==1&&this.form.password.length<6){this.error("密码不正确");return}if(this.form.login_type==2&&!this.form.code.length){this.error("请输入验证码");return}this.sendRequest()},sendRequest(){this.post("login/tel_login",{login_type:this.form.login_type,tel:this.form.tel,code:this.form.code,password:this.form.password,username:this.form.username,share_id:this.util.getStorage("share_id")},{loading:!0}).then(({code:o,token:s,user_id:d})=>{o===1&&(this.util.setStorage("token",s),this.util.setStorage("user_id",d),this.success("登录成功"),h.push({path:"/"}))})},getData(){this.get("user/user_info").then(({code:o,user_info:s})=>{o==1&&(this.user_info=s)})}}},t=o=>(g("data-v-9aa67ff7"),o=o(),m(),o),y={class:"register_header"},v={class:"reg_hc"},x=["src"],w=t(()=>e("h4",null,"登录",-1)),b=t(()=>e("span",{class:"forget fr"},[e("a",{href:"/"},"去首页")],-1)),k={class:"register_con"},S={class:"register_conr"},C=t(()=>e("div",{class:"clear"},null,-1)),I={class:"user per_register",style:{"padding-top":"40px"}},L=t(()=>e("span",null,"用户名：",-1)),V={style:{position:"relative"}},B=t(()=>e("span",{class:"myicon icon-wode",style:{position:"absolute","margin-top":"10px","margin-left":"25px"}},null,-1)),R=t(()=>e("br",null,null,-1)),U=t(()=>e("span",null,"密码：",-1)),q={style:{position:"relative"}},D=t(()=>e("span",{class:"myicon icon-jiesuo",style:{position:"absolute","margin-top":"10px","margin-left":"25px"}},null,-1)),N=t(()=>e("br",null,null,-1)),j={class:"agreenment text-color"},E=t(()=>e("div",{style:{margin:"0 4px"}},"|",-1)),M=t(()=>e("div",null,"忘记密码",-1)),T=t(()=>e("div",{class:"clear"},null,-1));function z(o,s,d,A,i,_){return r(),l("div",null,[e("div",y,[e("div",v,[e("img",{src:o.baseURL+"/"+i.configs.logo_img,style:{width:"50px",height:"50px"}},null,8,x),w,b])]),e("div",k,[e("div",S,[C,e("div",I,[L,e("div",V,[B,a(e("input",{type:"text",name:"user","onUpdate:modelValue":s[0]||(s[0]=n=>i.form.tel=n),class:"input_comm",placeholder:"请输入用户名",style:{"margin-top":"0px"}},null,512),[[p,i.form.tel]])]),R,U,e("div",q,[D,a(e("input",{type:"text",name:"password","onUpdate:modelValue":s[1]||(s[1]=n=>i.form.password=n),class:"input_comm",placeholder:"请输入密码",style:{"margin-top":"0px"}},null,512),[[p,i.form.password]])]),N,e("input",{type:"button",name:"denglu",value:"登 录",class:"btn_register",onClick:s[2]||(s[2]=(...n)=>_.bindLogin&&_.bindLogin(...n))}),e("div",j,[i.form.login_type==1?(r(),l("div",{key:0,onClick:s[3]||(s[3]=n=>i.form.login_type=2)},"验证码登录")):c("",!0),i.form.login_type==2?(r(),l("div",{key:1,onClick:s[4]||(s[4]=n=>i.form.login_type=1)},"密码登录")):c("",!0),E,M])])]),T])])}const G=u(f,[["render",z],["__scopeId","data-v-9aa67ff7"]]);export{G as default};
